<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Inheritance # Subclass # In most (class-based) object-oriented languages, a class A can extend another class B. In this case, A is called a subclass of B. The intuitive meaning is inclusion between their respective sets of instances, i.e. every instance of A is also an instance of B (but the converse may not hold).
This can be paraphrased in English by &ldquo;every A is a B &ldquo;. For instance:">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Inheritance" />
<meta property="og:description" content="Inheritance # Subclass # In most (class-based) object-oriented languages, a class A can extend another class B. In this case, A is called a subclass of B. The intuitive meaning is inclusion between their respective sets of instances, i.e. every instance of A is also an instance of B (but the converse may not hold).
This can be paraphrased in English by &ldquo;every A is a B &ldquo;. For instance:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://unibz-pp-23-24.github.io/docs/objects/sections/inheritance/" /><meta property="article:section" content="docs" />


<title>Inheritance | Programming project 2023-24</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="stylesheet" href="/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.52ada9b2ea8caccf9fa9cde899c9cbf0cae2c253e61842d0d8d43ee053264b9f.js" integrity="sha256-Uq2psuqMrM&#43;fqc3omcnL8MriwlPmGELQ2NQ&#43;4FMmS58=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
  integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0"
  crossorigin="anonymous"
/>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
  integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4"
  crossorigin="anonymous"
></script>


<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
  onload="renderMathInElement(document.body);"
></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
      ],
    });
  });
</script>

</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Programming project 2023-24</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f1c1e874f9c9473478447bba6c7db644" class="toggle"  />
    <label for="section-f1c1e874f9c9473478447bba6c7db644" class="flex justify-between">
      <a href="/docs/intro/" class="">This course</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/schedule/" class="">Schedule</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/lecturers/" class="">Teaching staff</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/evaluation/" class="">Evaluation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/content/" class="">Content</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/board_game/" class="">Board game</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/intro/sections/bibliography/" class="">Bibliography</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bc4d9392f5af16481cccf0c311076888" class="toggle"  />
    <label for="section-bc4d9392f5af16481cccf0c311076888" class="flex justify-between">
      <a href="/docs/project/" class="">Project</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/project/sections/free_project/" class="">Option 1: free project</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/project/sections/board_game/" class="">Option 2: board game</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3435ead23eba75b5ffeeb8d422f70dea" class="toggle" checked />
    <label for="section-3435ead23eba75b5ffeeb8d422f70dea" class="flex justify-between">
      <a href="/docs/objects/" class="">Objects and classes</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/objects/" class="">Objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/classes/" class="">Class and instance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/inheritance/" class="active">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/methods/" class="">Instance methods</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/tostring/" class="">Displaying objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/comparing/" class="">Cast and equality</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/classesasobjects/" class="">Classes as objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/clone/" class="">Duplicating objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/quasi-objects/" class="">Quasi-objects</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/encapsulation/" class="">Encapsulation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/objects/sections/quiz/" class="">Quiz</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-48bc13e86f573c257821b397e779b02e" class="toggle"  />
    <label for="section-48bc13e86f573c257821b397e779b02e" class="flex justify-between">
      <a href="/docs/interfaces/" class="">Interfaces</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/interfaces/sections/specification/" class="">Specification and programming interface</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/interfaces/sections/java_interfaces/" class="">Java interfaces</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e06acd393c0cc6e5b27e2cd8945d3dd8" class="toggle"  />
    <label for="section-e06acd393c0cc6e5b27e2cd8945d3dd8" class="flex justify-between">
      <a href="/docs/abstractdatatypes/" class="">Abstract data types</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/list/" class="">List</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/set/" class="">Set</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/map/" class="">Associative array</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/queue/" class="">Stack, queue, priority queue</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/abstractdatatypes/sections/sorting/" class="">Sorting</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-93b39c27c032f5f72bed81496cbb41e3" class="toggle"  />
    <label for="section-93b39c27c032f5f72bed81496cbb41e3" class="flex justify-between">
      <a href="/docs/errors/" class="">Errors</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a2fa4d1523374519c87fe83f9d8226b6" class="toggle"  />
    <label for="section-a2fa4d1523374519c87fe83f9d8226b6" class="flex justify-between">
      <a href="/docs/errors/sections/callstack/" class="">Call stack</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-323953d2054911560fd76ed4505d5bb2" class="toggle"  />
    <label for="section-323953d2054911560fd76ed4505d5bb2" class="flex justify-between">
      <a href="/docs/errors/sections/exceptions/" class="">Exceptions</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-03b7629c50286af7810d9917f4bdabd2" class="toggle"  />
    <label for="section-03b7629c50286af7810d9917f4bdabd2" class="flex justify-between">
      <a href="/docs/errors/sections/checked/" class="">Checked vs unchecked</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b9c696d05ab8cb944ddf9cef47a3abb4" class="toggle"  />
    <label for="section-b9c696d05ab8cb944ddf9cef47a3abb4" class="flex justify-between">
      <a href="/docs/errors/sections/errors/" class="">Java errors</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b7bc445f96cbe2bd1034c5f1c5d075bb" class="toggle"  />
    <label for="section-b7bc445f96cbe2bd1034c5f1c5d075bb" class="flex justify-between">
      <a href="/docs/input/" class="">I/O and serialization</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-09ea3b18445537bd77c25d3db6ab2fcf" class="toggle"  />
    <label for="section-09ea3b18445537bd77c25d3db6ab2fcf" class="flex justify-between">
      <a href="/docs/input/sections/files/" class="">Paths and files in Java</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-640b25aadb55f28505bfbbe5a5f7073d" class="toggle"  />
    <label for="section-640b25aadb55f28505bfbbe5a5f7073d" class="flex justify-between">
      <a href="/docs/input/sections/read/" class="">Reading from and writing to a file in Java</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7efe7741b54b5b602db75415a7806ef4" class="toggle"  />
    <label for="section-7efe7741b54b5b602db75415a7806ef4" class="flex justify-between">
      <a href="/docs/input/sections/property/" class="">Configuration files</a>
    </label>
  

        </li>
      
    
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-494fdb80ca3ad5d2868cb487a042ae27" class="toggle"  />
    <label for="section-494fdb80ca3ad5d2868cb487a042ae27" class="flex justify-between">
      <a href="/docs/env/" class="">Development environment</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/files/" class="">Hierarchical file system</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/backup/" class="">Backup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/install/" class="">Software management</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/os/" class="">Operating system</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/requirements/" class="">Requirements for this course</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/ide/" class="">IDE</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/text_editor/" class="">Text editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/eval/" class="">Evaluation environment</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/env/sections/terminal/" class="">Terminal</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2870a15a3d2cff84408f43cbb1e77f97" class="toggle"  />
    <label for="section-2870a15a3d2cff84408f43cbb1e77f97" class="flex justify-between">
      <a href="/docs/git/" class="">git</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/basics/" class="">Basics: repository, commits and branches</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/collaboration/" class="">Basics: network and collaboration</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/config/" class="">Configuration</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/create/" class="">Create or clone a repository</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/commit/" class="">Add, commit, stash</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/branches/" class="">Branches</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/sharing/" class="">Synchronization: remote, push, pull</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/backtracking/" class="">Backtracking</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/ignore/" class="">Ignoring files</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/git/sections/resources/" class="">To go further</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ffcf8551871937aae0ce60f2b3cc616b" class="toggle"  />
    <label for="section-ffcf8551871937aae0ce60f2b3cc616b" class="flex justify-between">
      <a href="/docs/background/" class="">Background</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/problem/" class="">Computational problem</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/set_tuple_map/" class="">Set, tuple, function</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/background/sections/order/" class="">Relation, preorder</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Inheritance</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#subclass">Subclass</a>
      <ul>
        <li><a href="#transitivity">Transitivity</a></li>
        <li><a href="#inheritance-1">Inheritance</a></li>
      </ul>
    </li>
    <li><a href="#factorizing-code-with-a-possibly-abstract-superclass">Factorizing code with a (possibly abstract) superclass</a>
      <ul>
        <li><a href="#direct-inheritance-illustration">Direct inheritance: illustration</a></li>
        <li><a href="#transitive-inheritance">Transitive inheritance</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="inheritance">
  Inheritance
  <a class="anchor" href="#inheritance">#</a>
</h1>
<h2 id="subclass">
  Subclass
  <a class="anchor" href="#subclass">#</a>
</h2>
<blockquote class="book-hint warning">
  In most (class-based) object-oriented languages, a class <em>A</em> can <strong>extend</strong> another class <em>B</em>.
In this case, <em>A</em> is called a <strong>subclass</strong> of <em>B</em>.
</blockquote>

<p>The intuitive meaning is inclusion between their respective sets of instances, i.e. every instance of <em>A</em> is also an instance of <em>B</em> (but the converse may not hold).</p>
<p>This can be paraphrased in English by &ldquo;every <em>A</em> is a <em>B</em> &ldquo;.
For instance:</p>
<ul>
<li>every banana is a fruit</li>
<li>every square is a rectangle</li>
<li>every rectangle is a geometric shape,</li>
<li>etc.</li>
</ul>
<h3 id="transitivity">
  Transitivity
  <a class="anchor" href="#transitivity">#</a>
</h3>
<blockquote class="book-hint warning">
  The &ldquo;extend&rdquo; relation is <strong>transitive</strong>, meaning that
if <em>A</em> extends <em>B</em> and <em>B</em> extends <em>C</em>, then <em>A</em> extends <em>C</em> (for any classes <em>A</em>, <em>B</em> and <em>C</em> ).
</blockquote>

<p>For instance, from the above examples, one can infer that
&ldquo;every square is a geometric shape&rdquo;.</p>
<h3 id="inheritance-1">
  Inheritance
  <a class="anchor" href="#inheritance-1">#</a>
</h3>
<blockquote class="book-hint warning">
  Naturally, if <em>A</em> is a subclass of <em>B</em> then it <strong>inherits</strong> the properties of <em>B</em>.
</blockquote>

<p>For instance, a rectangle has four right angles.
Since every square is a rectangle, a square has four right angles as well.</p>
<h2 id="factorizing-code-with-a-possibly-abstract-superclass">
  Factorizing code with a (possibly abstract) superclass
  <a class="anchor" href="#factorizing-code-with-a-possibly-abstract-superclass">#</a>
</h2>
<p>Inheritance can be used to avoid <a href="">redundant code</a></p>
<h3 id="direct-inheritance-illustration">
  Direct inheritance: illustration
  <a class="anchor" href="#direct-inheritance-illustration">#</a>
</h3>
<p>Let us model the units of our game as objects.</p>
<p>Each unit has:</p>
<ul>
<li>a <em>type</em> (e.g. mage, unicorn, etc.),</li>
<li>a <em>color</em> (at least in the <a href="https://www.dotemu.com/games/might-magic-clash-of-heroes-definitive-edition/">original game</a>), and</li>
<li>a certain amount of <em>health</em>.</li>
</ul>
<p>The behavior and stats of a unit (e.g number of turns before attacking when combined, default health, etc.) are dictated by its type.
So it makes sense to group units by type.</p>
<p>For instance, one can create a class <code>Unicorn</code> whose instances are all units of type unicorn.
In Java:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Unicorn</span> {
</span></span><span style="display:flex;"><span>    String color;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> health;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> attackCountdown;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Unicorn</span>(String color) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">color</span> <span style="color:#f92672">=</span> color;
</span></span><span style="display:flex;"><span>      health <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span>      attackCountdown <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><blockquote class="book-hint info">
  <strong><em>Note.</em></strong> We used the keyword <code>attackCountdown</code> in this example to indicate the number of turns before the unit attacks (and a special value of <code>-1</code> when it is not set to attack).
But there are of course other ways to model this.
</blockquote>

<blockquote class="book-hint info">
  <strong><em>Note.</em></strong> In this example, we used the prefix <code>this.</code> for the attribute <code>color</code> only, because there is no ambiguity for the three other attributes.
</blockquote>

We can also create a class <code>Butterfly</code> on the same model</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Butterfly</span> {
</span></span><span style="display:flex;"><span>    String color;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> health;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> attackCountdown;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Butterfly</span>(String color) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">color</span> <span style="color:#f92672">=</span> color;
</span></span><span style="display:flex;"><span>      health <span style="color:#f92672">=</span> 2;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> attackCountdown <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now consider a method <code>encounter</code> that manages an encounter between two units.
Without inheritance, one would need to implement four versions of this method:</p>
<ul>
<li>unicorn vs unicorn,</li>
<li>unicorn vs butterfly,</li>
<li>butterfly vs unicorn, and</li>
<li>butterfly vs butterfly.</li>
</ul>
<p>For instance, the first of these four methods could be implemented as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">encounter</span>(Unicorn u1, Unicorn u2) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// save the initial value of the first unit&#39;s health</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> copy <span style="color:#f92672">=</span> u1.<span style="color:#a6e22e">health</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      u1.<span style="color:#a6e22e">health</span> <span style="color:#f92672">-=</span> u2.<span style="color:#a6e22e">health</span>;
</span></span><span style="display:flex;"><span>      u2.<span style="color:#a6e22e">health</span> <span style="color:#f92672">-=</span> copy;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>More generally, if the game has 
<link rel="stylesheet" href="/katex/katex.min.css" />
<script defer src="/katex/katex.min.js"></script>
<script defer src="/katex/auto-render.min.js" onload="renderMathInElement(document.body);"></script><span>
  \(n\)
</span>
 types of units, then the code will contain <span>
  \(n^2\)
</span>
 nearly identical <code>encounter</code> methods.</p>
<p><blockquote class="book-hint info">
  <strong><em>Question.</em></strong> Can we use inheritance in this example to avoid duplicate code (and how)?
</blockquote>

Observe that a unicorn and a butterfly (viewed as object) have identical attributes (a.k.a. &ldquo;keys&rdquo;), namely <code>String color</code>, <code>int health</code>, and <code>int attackCountdown</code>.
So we can create a superclass of <code>Unicorn</code>and<code>Butterfly</code>that carries these attributes, and let the two subclasses inherit it.
For instance, this superclass may be called <code>Unit</code>.</p>
<p><img src="/img/diagrams/plantuml/abstract_inherit_simple.svg" alt="" /></p>
<p>However, we may also want every unit in the game to have a concrete type (like &ldquo;unicorn&rdquo; or &ldquo;butterfly&rdquo;), rather than being a generic &ldquo;unit&rdquo;.
In Java, this can be achieved with the <code>abstract</code> keyword.
This keyword ensures that our superclass <em>cannot</em> be directly instantiated (even though it can still have a constructor).
For instance:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Unit</span> {
</span></span><span style="display:flex;"><span>    String color;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> health;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> attackCountdown;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Unit</span>(String color, <span style="color:#66d9ef">int</span> health) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">color</span> <span style="color:#f92672">=</span> color;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">health</span> <span style="color:#f92672">=</span> health;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> attackCountdown <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Because this class is abstract, the following code will <em>not</em> compile:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Unit myUnit <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Unit(<span style="color:#e6db74">&#34;green&#34;</span>, 2);
</span></span></code></pre></div><p>Next, we can declare that <code>Unicorn</code> extends <code>Unit</code>, by using the Java keyword <code>extends</code>.
We can also use the constructor of <code>Unit</code> within the constructor of <code>Unicorn</code>, with the Java keyword <code>super</code>.</p>
<blockquote class="book-hint info">
  <strong><em>Note.</em></strong> In Java (as opposed to C++ for instance), a class can only have <em>one</em> immediate superclass, so the keyword <code>super</code> is never ambiguous.
</blockquote>

<p>This yields:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Unicorn</span> <span style="color:#66d9ef">extends</span> Unit {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Unicorn</span>(String color) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">super</span>(color, 1);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>And we can proceed similarly for the class <code>Butterfly</code>.</p>
<p>Observe that all the attributes are now carried by the superclass <code>Unit</code>.
However, because they are inherited, these attributes can be accessed as if they were regular attributes of the subclass.
For instance,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  Unicorn myUnit <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Unicorn(<span style="color:#e6db74">&#34;green&#34;</span>);
</span></span><span style="display:flex;"><span>  System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(myUnit.<span style="color:#a6e22e">health</span>);
</span></span></code></pre></div><p>outputs</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>1
</span></span></code></pre></div><p>This allows us to write a generic <code>encounter</code> method, as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">encounter</span>(Unit u1, Unit u2) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// save the initial value of the first unit&#39;s health</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> copy <span style="color:#f92672">=</span> u1.<span style="color:#a6e22e">health</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      u1.<span style="color:#a6e22e">health</span> <span style="color:#f92672">-=</span> u2.<span style="color:#a6e22e">health</span>;
</span></span><span style="display:flex;"><span>      u2.<span style="color:#a6e22e">health</span> <span style="color:#f92672">-=</span> copy;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>And this method can be used with unicorns and/or butterflies.
For instance:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  Unicorn myUnicorn <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Unicorn(<span style="color:#e6db74">&#34;green&#34;</span>);
</span></span><span style="display:flex;"><span>  Butterfly myButterfly <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Butterfly(<span style="color:#e6db74">&#34;yellow&#34;</span>);
</span></span><span style="display:flex;"><span>  encounter(myUnicorn, myButterfly);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="transitive-inheritance">
  Transitive inheritance
  <a class="anchor" href="#transitive-inheritance">#</a>
</h3>
<p>In the example above, we assumed that all units have a color and can attack.
What if we also want to create a type of unit called <code>Wall</code> that has no color and cannot attack?
An instance of this class does not need the attributes <code>color</code> and <code>attackCountdown</code>.</p>
<p>A quick solution here consists is setting <code>attackCountdown</code> to -1, and <code>color</code> to <code>null</code>.
However, unnecessary attributes make code harder to understand, and such a design may not scale well if the game is extended with more units types.</p>




<div class="book-tabs"><input type="radio" class="toggle" name="tabs-exercise_trans_inherit" id="tabs-exercise_trans_inherit-0" checked="checked" />
  <label for="tabs-exercise_trans_inherit-0">Exercise</label>
  <div class="book-tabs-content markdown-inner">Modify our model to accommodate for the class <code>Wall</code>, so that an instance of <code>Wall</code> only has the <code>health</code> attribute.</div><input type="radio" class="toggle" name="tabs-exercise_trans_inherit" id="tabs-exercise_trans_inherit-1"  />
  <label for="tabs-exercise_trans_inherit-1">Possible solution</label>
  <div class="book-tabs-content markdown-inner"><p>One solution (among others) is the following:</p>
<ol>
<li>modify the class <code>Unit</code> so that it only carries the attribute <code>health</code>,</li>
<li><code>Wall</code> extends <code>Unit</code>,</li>
<li>create an (abstract) subclass of <code>Unit</code> (for instance <code>MobileUnit</code>) that carries the other two attributes,</li>
<li><code>Butterfly</code> and <code>Unicorn</code> extend <code>MobileUnit</code> (therefore they also extend <code>Unit</code>, by transitivity).</li>
</ol>
<p><img src="/img/diagrams/plantuml/abstract_inherit_complex.svg" alt="" /></p>
<p>Or in Java:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Unit</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> health;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Unit</span>(<span style="color:#66d9ef">int</span> health) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">heath</span> <span style="color:#f92672">=</span> health;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Wall</span> <span style="color:#66d9ef">extends</span> Unit {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Wall</span>() {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">super</span>(5);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MobileUnit</span> <span style="color:#66d9ef">extends</span> Unit {
</span></span><span style="display:flex;"><span>    String color;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> attackCountdown;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MobileUnit</span>(String color, <span style="color:#66d9ef">int</span> health) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">super</span>(health);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">color</span> <span style="color:#f92672">=</span> color;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attackCountdown</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>1;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Unicorn</span> <span style="color:#66d9ef">extends</span> MobileUnit {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Unicorn</span>(String color) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">super</span>(color, 1);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>and similarly for <code>Butterfy</code>.</p>
</div></div>

</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#subclass">Subclass</a>
      <ul>
        <li><a href="#transitivity">Transitivity</a></li>
        <li><a href="#inheritance-1">Inheritance</a></li>
      </ul>
    </li>
    <li><a href="#factorizing-code-with-a-possibly-abstract-superclass">Factorizing code with a (possibly abstract) superclass</a>
      <ul>
        <li><a href="#direct-inheritance-illustration">Direct inheritance: illustration</a></li>
        <li><a href="#transitive-inheritance">Transitive inheritance</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












